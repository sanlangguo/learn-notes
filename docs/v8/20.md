## 20-垃圾回收（一）：V8的两个垃圾回收器是如何工作的

### 垃圾回收机制
JavaScript 是一门自动垃圾回收的语言，也就是说，开发者不需要手动回收垃圾数据，而是由 V8 引擎的垃圾回收器来完成。在 JavaScript 中，垃圾数据是指一些不再被程序引用的数据，这些数据会占用内存空间，影响程序的性能。因此，垃圾回收机制是非常重要的。

### V8 引擎中的两个垃圾回收器
为了更高效地回收垃圾，V8 引擎引入了两个垃圾回收器，分别针对不同的场景：

### 新生代垃圾回收器（Scavenge）
适用于存活时间较短的对象
实现方式：将内存空间分为两个相等的半区域（From 空间和 To 空间），对象首先被分配到 From 空间中，当 From 空间快要被占满时，将其中存活的对象复制到 To 空间中，然后交换 From 空间和 To 空间的角色，完成一次垃圾回收。

### 老生代垃圾回收器（Mark-Sweep & Mark-Compact）
适用于存活时间较长的对象
实现方式：将内存空间分为两个部分（新生代空间和老生代空间），新生代空间采用 Scavenge 回收算法，老生代空间采用 Mark-Sweep 和 Mark-Compact 两种算法。Mark-Sweep 算法首先标记所有存活的对象，然后清除所有未标记的对象；Mark-Compact 算法则是在 Mark-Sweep 的基础上，将所有存活的对象向一端移动，并清除另一端的所有对象。

### 总结
本文介绍了 JavaScript 中的垃圾回收机制以及 V8 引擎中的两个垃圾回收器。了解这些知识可以帮助开发者更好地理解 JavaScript 在内存管理方面的工作原理，并且可以优化程序性能。