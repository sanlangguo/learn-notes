## 03-HTTP请求流程：为什么很多站点第二次打开速度会很快？

本文介绍了HTTP协议的基本概念和请求过程，并解答了一些常见问题，如为什么第一次访问站点速度慢，第二次很快，以及如何实现登录状态的保持等。

#### HTTP协议
HTTP是建立在TCP连接之上的协议，用于浏览器向服务器获取资源，如HTML、CSS、JS、图片、视频等。HTTP也是浏览器使用最广的协议。

#### 浏览器端发起HTTP请求流程
- 构建请求行信息，如 GET /index.html HTTP1.1。
- 查找缓存，如果有缓存则直接返回并结束请求。
- 准备IP地址和端口，通过TCP与服务器建立连接。
- 发送请求，包括请求头和请求体。
- 接收响应，包括响应头和响应体。
- 处理响应，根据响应头信息判断响应是否成功，并解析响应体获取资源。
- 断开连接，释放资源。
#### 常见问题解答
- 为什么第一次访问站点速度慢，第二次很快？

第一次访问时需要建立TCP连接、发送请求、接收响应等操作，而第二次访问时可以利用缓存，直接返回资源副本，省去了一些操作，因此速度更快。

- 如何实现登录状态的保持？

用户登录后，服务器会在响应头中添加 Set-Cookie 字段，并设置一个唯一的标识符（如用户ID），浏览器会将该标识符保存在本地，下次访问该站点时会自动在请求头中添加 Cookie 字段，将标识符发送给服务器，从而实现登录状态的保持。